<title>Necesse Server Info</title><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans" type="text/css"><link rel="icon" type="image/png" sizes="16x16" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAgMAAABinRfyAAAAAXNSR0IArs4c6QAAAAxQTFRFAAAA
////AAABwMDAsVaT0AAAAAF0Uk5TAEDm2GYAAABTSURBVAgdY2DQWsHAwDQ1rIGBs/5vAoP6q9U3
GOY1MG1j2MG1QI9BQTWCg4Fh/jegkqq1DQxMD7gbGBiamhgYGDgTgIRqBJDQrQAS3A+ABFMDAwCM
IBNr2RuOlAAAAABJRU5ErkJggg=="><style type="text/css">input,table{font-family:'Open Sans',sans-serif}th{padding:2px 10px;border-radius:5px}td{padding:7px 10px;border-radius:5px}.ral{text-align:right}.baseTable{margin:auto;max-width:500px}#header{height:10px}#footer{height:10px}.err th{background-color:#f8a0a0!important}#info_err,.err td,td.err{background-color:#ffc0c0!important}#inputtb th{background-color:#b0a0e8}#inputtb td{background-color:#e8e0f8}#infotb th{background-color:#a0c8a0}#infotb td{background-color:#e0f8e0}#modstb,#wldsettb{font-size:smaller}#wldsettb th{background-color:silver}#wldsettb td{background-color:#e0e0e0}#modstb th{background-color:#a0b8c8}#modstb td{background-color:#e0eff8}</style><body style="font-family:monospace"><div id="_reusables" style="display:none"><div id="checkmark"><span style="font-family:serif;font-weight:700;color:#30c030" title="True">&#10004;&#xFE0E;</span></div><div id="xmark"><span style="font-family:serif;font-weight:700;color:#c03030" title="False">&#10060;&#xFE0E;</span></div><table><tr id="modentry"><td class="ral"><span class="resultValue" style="font-weight:700">##ModName##</span><br><span class="resultValue" style="font-weight:400;font-size:smaller" title="Mod string ID">##ModId##</span><br><span class="resultValue" style="font-weight:400;font-size:smaller" title="Mod version">##ModVer##</span><td><center style="font-size:larger">##Required##</center><td><a title="Find in Steam Workshop" target="_blank" href="https://steamcommunity.com/workshop/browse/?appid=1169040&searchtext=##ModNameEnc##">Find</a></table></div><div id="header"></div><div><form action="#" onsubmit="return exec(),!1"><table id="inputtb" class="baseTable"><tr><th colspan="2">Necesse Server Info<tr><td class="ral"><label for="host">Hostname/IP</label><td><input id="host" name="host" placeholder="e.g. necesse.cc" style="width:100%" required><tr><td class="ral"><label for="port">Port</label><td><input id="port" name="port" value="14159" placeholder="14159" style="width:100%"><tr><td class="ral"><label for="password">Password<small> (for modlist request)</small></label><td><input id="password" name="password" type="password" placeholder="[empty]" style="width:80%;display:inline"> <input id="showpass" type="checkbox" title="Show password" style="width:10%;display:inline" onclick='password.type=showpass.checked?"text":"password"'><tr><td class="ral"><label for="getMods">Request mod list</label><td><input name="getMods" type="hidden" value="off"> <input id="getMods" name="getMods" type="checkbox" checked="true"> <label><small>(requires password if any)</small></label><tr><td colspan="2"><center><input id="submit" type="submit" value="Submit"></center></table></form></div><div id="results" style="opacity:0"><table id="infotb" class="baseTable"><tr><th colspan="2"><span id="info_host" class="resultValue">-</span><br><span id="info_online" class="resultValue" style="font-weight:400;font-size:smaller">-</span><tr><td class="ral">Game version<td id="info_version" class="resultValue">-<tr><td class="ral">Players online<small> / Max players</small><td><span id="info_playersOnline" class="resultValue">-</span> <small><span>/ </span><span id="info_slots" class="resultValue">-</span></small><tr><td class="ral">Has password<td id="info_passwordProtected" class="resultValue">-<tr><td class="ral">Modded server<td id="info_modded" class="resultValue">-<tr id="info_err_container" style="display:none"><td id="info_err" colspan="2" class="resultValue">-</table><table id="wldsettb" class="baseTable"><tr><th colspan="2">World settings<tr><td class="ral">Hunger enabled<td id="wldset_playerHunger" class="resultValue">-<tr><td class="ral">Forced PvP<td id="wldset_forcedPvP" class="resultValue">-<tr><td class="ral">World difficulty<td id="wldset_difficulty" class="resultValue">-<tr><td class="ral">Penalty on death<td id="wldset_deathPenalty" class="resultValue">-<tr><td class="ral">Raid frequency<td id="wldset_raidFrequency" class="resultValue">-<tr><td class="ral">Day time modifier<td><small>&times;</small><span id="wldset_dayTimeMod" class="resultValue">-</span><tr><td class="ral">Night time modifier<td><small>&times;</small><span id="wldset_nightTimeMod" class="resultValue">-</span><tr><td class="ral">Mob spawns disabled?<td id="wldset_disableMobSpawns" class="resultValue">-<tr><td class="ral">Cheats allowed<td id="wldset_allowCheats" class="resultValue">-<tr><td class="ral">Settlements per player<td id="wldset_maxSettlementsPerPlayer" class="resultValue">-<tr><td class="ral">Idle settlements unloaded<td id="wldset_unloadSettlements" class="resultValue">-</table><table id="modstb" class="baseTable"><tbody id="modstb_body" style="display:none"><tr><th colspan="3">Server mods<tr><th class="ral"><span>Mod Name</span><br><span style="font-weight:400;font-size:smaller">String ID</span><br><span style="font-weight:400;font-size:smaller">Mod version</span><th>Required<th>Workshop search</table></div><div style="font-family:monospace;display:none"><pre id="result"></pre></div><div id="footer"></div><script type="text/javascript">const RETRIES=1,CHECKMARK=document.getElementById("checkmark").innerHTML,XMARK=document.getElementById("xmark").innerHTML,MODENTRY=document.getElementById("modentry").innerHTML,MODSTB_ORIG=document.getElementById("modstb").innerHTML;function hashCode(t){let n;for(let e=0;e<t.length;e++)n=Math.imul(31,n)+t.charCodeAt(e)|0;return n}function reset(){var t=document.getElementsByClassName("resultValue");for(let e=0;e<t.length;e++)t[e].innerHTML="-";document.getElementById("info_err_container").style.display="none",document.getElementById("infotb").classList.remove("err"),document.getElementById("modstb").innerHTML=MODSTB_ORIG}function dispError(e){null!=e&&""!=e&&(document.getElementById("info_err").innerHTML=e,document.getElementById("info_err_container").style.display="table-row")}function parseInfo(e){document.getElementById("info_host").innerHTML=e.host,document.getElementById("info_online").innerHTML=e.online?"online":"unreachable",dispError(e.err),e.online?null!=e.status&&(document.getElementById("info_version").innerHTML=e.status.version,document.getElementById("info_playersOnline").innerHTML=e.status.playersOnline,document.getElementById("info_slots").innerHTML=e.status.slots,document.getElementById("info_passwordProtected").innerHTML=e.status.passwordProtected,document.getElementById("info_modded").innerHTML=0==e.status.modsHash?"No":"Yes"):document.getElementById("infotb").classList.add("err")}function parseWorldSettings(e){for(var t in e.maxSettlementsPerPlayer=-1==e.maxSettlementsPerPlayer?"No limit":e.maxSettlementsPerPlayer,e){var n=e[t];"boolean"==typeof n&&(n=n?CHECKMARK:XMARK),(document.getElementById("wldset_"+t)||{}).innerHTML=n}}function parseMods(e,t){if(!(null==t||e<1)){var n=document.getElementById("modstb_body");n.style.display="table";for(let e=0;e<t.length;e++){var o=document.createElement("tr"),d=t[e];o.innerHTML=MODENTRY.replace("##ModName##",d.modName).replace("##ModNameEnc##",encodeURIComponent(d.modName)).replace("##ModId##",d.modId).replace("##ModVer##",d.modVer).replace("##Required##",d.isClientSide?XMARK:CHECKMARK),n.appendChild(o)}}}async function exec(){with(document.getElementById("submit").disabled=!0,document.getElementById("results"))animate([{opacity:style.opacity},{opacity:0}],{duration:200}),style.opacity=0;const anpr=new Promise(e=>setTimeout(e,200)),tctl=new AbortController,tmid=setTimeout(()=>tctl.abort(),7e3);var body;for(let i=0;i<1+RETRIES;i++)try{const resp=await fetch("api",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({host:document.getElementById("host").value,port:document.getElementById("port").value,passHash:hashCode(document.getElementById("password").value),getStatus:!0,getMods:document.getElementById("getMods").checked}),signal:tctl.signal});body=await resp.json();break}catch(e){}if(null!=body){with(await anpr,reset(),parseInfo(body),parseWorldSettings(body.status?.worldSettings||{}),parseMods(body.modCount,body.mods),document.getElementById("results"))style.opacity=1,animate([{opacity:0},{opacity:1}],{duration:200});document.getElementById("result").innerHTML=JSON.stringify(body,null,2)}else alert("Request failed or timed out, try again.");document.getElementById("submit").disabled=!1}</script>